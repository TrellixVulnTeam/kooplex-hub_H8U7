{% load project_buttons %}
{% load container_buttons %}


<div class="card bg-light border-secondary shadow mb-3" id="card-{{ project.id }}">
  <div class="card-header">
    <div class="container-fluid">
      <div class="d-flex flex-row justify-content-between">
        <div class="d-flex flex-row justify-content-start">
          <div data-intro="#button_operation">{% dropdown_start_open_stop bindings=projectcontainerbindings ancestor=project ancestor_type='project' next_page='project:list' %}</div>
	  <div class="ms-5" style="cursor: pointer;" 
               data-bs-toggle="collapse" data-bs-target="#collapse-{{ project.id }}" aria-expanded="false" aria-controls="collapse-{{ project.id }}">
            <span id="project-name-{{ project.id }}"><i class="bi bi-info-circle pe-2"></i>{{ project.name }}</span>
	  </div>
	</div>
        <div class="d-flex flex-row justify-content-end">
          <div>{% icon_collaborator project user %}</div>
          <div class="ms-3">{% scope project %}</div>
	</div>
      </div>
    </div>
  </div><!-- card header -->
  <div class="collapse" id="collapse-{{ project.id }}">
    <div class="card card-body">
      {% if project.creator != user %}
        <p class="card-text"><strong>Creator:</strong> {{ project.creator.profile.name_and_username }}</p>
      {% endif %}
      <p class="card-text"><strong>Description:</strong> {{ project.description }}</p>
      <p class="card-text"><strong>Collaborators:</strong> {% list_collaborator project user %}</p>
      <p class="card-text"><strong>Folder:</strong> {{ project.subpath }}</p>
      <p class="card-text">
      {# fixme hoe report button is rendered #}
        {% include 'reports_button.html' %}
      </p>
    </div>
    <div class="card card-footer" data-intro="#button_footer">
      <div class="container-fluid">
        <div class="d-flex flex-row justify-content-between">
          <div class="d-flex flex-row justify-content-start">
	    <div>{% button_project_conf project enabled=is_admin %}</div>
	    <div class="ms-2">{% button_project_hide project %}</div>
          </div>
          <div class="d-flex flex-row justify-content-end">
	    <div>{% button_project_delete project %}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% comment %}
JQuery
 onpointerenter="this.setAttribute('style', 'background-color: white')" onpointerleave="this.setAttribute('style', 'background-color: initial')" 
{% endcomment %}

