{% load container_buttons %}
{% load check_show %}

<style>
  badge:hover{
    font-weight: bold;
  }
</style>


<div class="card bg-light border-secondary shadow mb-3" id="card-{{ container.id }}">
  <div class="card-header">
    <div class="container-fluid">
      <div class="d-flex flex-row justify-content-between">
        <div class="d-flex flex-row justify-content-start">
          <div>{% button_start_open_restart  container next_page='container:reportclist' %}</div>
	  <div class="ms-5" style="cursor: pointer;" 
               data-bs-toggle="collapse" data-bs-target="#collapse-{{ container.id }}" aria-expanded="false" aria-controls="collapse-{{ container.id }}">
            <span id="container-name-{{ container.id }}" class="badge rounded-pill bg-secondary p-2 ps-3 pe-3">{{ container.friendly_name }}</span>
	  </div>
	</div>
        <div class="d-flex flex-row justify-content-end">
          <div>{% container_image container %}</div>
	</div>
      </div>
    </div>
  </div><!-- card header -->
  <div class="collapse" id="collapse-{{ container.id }}">
    <div class="card card-body">
      <p class="card-text"><strong>Information:</strong>
	  {% attachments attachments=container.attachments %}
	  
	  {#% if container.report %#}
	  <span class="badge rounded-pill bg-secondary" aria-hidden="true" data-bs-toggle="tooltip" 
		title="Report service environment for {{ container.report.name }}"
                data-placement="top"><i class="oi oi-graph"></i> {{container.report.name}}</span>
          </span>
          {#% endif %#}
          {% if container.volumes|length > 0 %}
            <span class="badge rounded-pill bg-dark" aria-hidden="true" data-bs-toggle="tooltip" title="Volumes:
{% for v in container.volumes %}
{{ v }} ({{ v.description }})
{% endfor %}" data-placement="top"><i class="ri-database-2-line"></i> {{container.volumes|length}}</span>
          {% endif %}
      </p>
      {% container_restart_reason container %}
      {% container_last_message container %}
      {% container_log container %}
    </div>
    <div class="card card-footer">
      <div class="container-fluid">
        <div class="d-flex flex-row justify-content-between">
          <div class="d-flex flex-row justify-content-start">
	    <div>{% button_start_open container next_page="container:reportclist" %}</div>
	    <div class="ms-2">{% button_restart container next_page="container:reportclist" %}</div>
	    <div class="ms-2">{% button_stop container next_page="container:reportclist" %}</div>
            <div class="ms-2">{% button_refreshlog container next_page="container:reportclist" %}</div>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

