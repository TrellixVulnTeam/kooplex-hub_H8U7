{% extends "manual/submenus.html" %}

{% block content %}

<div class="jumbotron jumbotron-fluid">
  <div class="container">
    <h1 class="display-6">Folder structure</h1>
    <p class="lead">What is where?</p>
    <p>When a 'notebook' is launched users land in the <code>/home</code> directory. In Jupyter one will see only <code>/</code> on the graphical interface and <code>/home</code> when using a terminal. This folder is not writable. The user's permanent private folder is the <code>/$USER</code> (in the examples $USER is 'wfct0p'). </p>
    <p>The rest of the folders differ in case of a <a href="#course"><em>Course container</em></a> or a <a href="#project"> <em>Project container</em></a>. <em>Course containers</em> are used in teaching and <em>Project containers</em> in research or other collaborative activities.</p>

    <hr>
    <p class="lead" id="course">Course container's folder structure for students</p>
    <p>All assignments will appear in the <code>workdir</code> directory in separate folders.</p>
    <p><img src="/static/content/manual/home-folder-course.png" class="center"></p>
    <p>After submitting/collecting an assignment the corrector will see the students' folders and by using the feedback form they will be able to grade the work, give feedback and return the assignment to the student to improve it.</p>
    <p><img src="/static/content/manual/course-panel-feedback.png" class="center" width=80%></p>
    <p>The contents of previous courses will be archived and they go into the <code>/garbage</code> folder. This folder is not yet automatically deleted, but we encourage everyone to keep valuable files in the <code>$USER</code> home directory.</p>
    <table class="table  table-striped table-bordered">
      <caption>Folder permissions </caption>
      <thead>
        <tr>
          <th scope="col">Folder name</th>
          <th scope="col">/</th>
          <th scope="col">/$USER</th>
          <th scope="col">/workdir</th>
          <th scope="col">/course</th>
          <th scope="col">/garbage</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Permissions</th>
          <td>Read-only</td>
          <td>Read-Write</td>
          <td>Read-Write</td>
          <td>Read-only</td>
          <td>Read-only</td>
        </tr>
        <tr>
          <td>Purpose</td>
          <td></td>
          <td>Private, accessible from every container</td>
          <td>Folders here contain assignments, and they will be submitted/collected from here</td>
          <td>Place for other files (data, templates etc)</td>
          <td>An archive of previous courses</td>
        </tr>
      </tbody>
    </table>

    <hr>
    <p class="lead">Course container's folder structure for teachers</p>
    <p>* Folders placed into  <code>/courses/private</code> can be assigned to students. These folders should contain only the notebooks and those files in which students are expected to work. Large datafiles, that need to be only read during for an assignment should be copied into <code>/courses/public</code> </p>
    <p><img src="/static/content/manual/course-folder.png" class="center"><br>
    <p>To create and assignment click here</p>
    <p><img src="/static/content/manual/course-panel-assign.png" height=140px class="center"></p>
    <p>* and then fill out the form. It is possible to set a deadline to each assignment, when they are going to be collected automatically. This allows for writing exams on the lecture. 
      By default at submission/collection of assignments the folders won't disappear from the students' working directory and it is possible to submit/collect them again at a later time.</p> 
    <p><img src="/static/content/manual/course-assignment.png" height=400px class="center"></p>
    <p>After submitting/collecting the assignment a corrector should be chosen. The corrector will be able to see the students' folders in their <code>/workdir</code> 
      and by using the feedback form they will be able to grade the work, give feedback and/or to return the assignment to the student to improve it.</p>
    <p><img src="/static/content/manual/workdir-teacher-folder.png" class="center"></p>
    <table class="table  table-striped table-bordered">
      <caption>Folder permissions </caption>
      <thead>
        <tr>
          <th scope="col">Folder name</th>
          <th scope="col">/</th>
          <th scope="col">/$USER</th>
          <th scope="col">/course/(private,public)</th>
          <th scope="col">/workdir</th>
          <th scope="col">/garbage</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Permissions</th>
          <td>Read-only</td>
          <td>Read-Write</td>
          <td>Read-Write</td>
          <td>Read-only</td>
          <td>Read-only</td>
        </tr>
        <tr>
          <td>Purpose</td>
          <td></td>
          <td>Private, accessible from every container</td>
          <td>Private contains assignments and public is for additional (large) data files, templates etc</td>
          <td>Students' working dirs appear here</td>
          <td>An archive of previous courses</td>
        </tr>
      </tbody>
    </table>

    <hr>
    <p class="project">Project container's folder structure</p>
    <p><img src="/static/content/manual/home-folder-projects.png"></p>
    <p>The <code>/share</code> directory contains all the shared folders for the projects that are assigned to the given container. One can access multiple projects in a container.</p>
    <p>The <code>/$USER</code> home is a private directory and accessible from all container.</p>
    <p><code>/workdir</code> is an extra private folder for the user, but it belongs to the certain project.</p>
    <p>It is possible to use accounts for version control systems such as GitHub or private GitLab. The user needs to create a token and paste it in the <a href="{% url 'user:managetokens' next_page %}" target="_blank">manage secrets</a> menu. After that the chosen repositories will appear in the <code>/git</code> directory. </p>
    <table class="table  table-striped table-bordered">
      <caption>Folder permissions </caption>
      <thead>
        <tr>
          <th scope="col">Folder name</th>
          <th scope="col">/</th>
          <th scope="col">/$USER</th>
          <th scope="col">/share/$projectname</th>
          <th scope="col">/workdir/$projectname</th>
          <th scope="col">/report/_prepare</th>
          <th scope="col">/git/$repository</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Permissions</th>
          <td>Read-only</td>
          <td>Read-Write</td>
          <td>Read-Write</td>
          <td>Read-Write</td>
          <td>Read-Write</td>
        </tr>
        <tr>
          <td>Purpose</td>
          <td></td>
          <td>Private, accessible from every container</td>
          <td>All collaborator of the same project have read-write access to this folder. Large data files, templates and other commonly used files should be placed here.</td>
          <td>Contents for reports should placed into separate folders.</td>
	  <td>Version controlled <a href="{% url 'user:managetokens' next_page %}">repositories</a> can be accessed here. </td>
        </tr>
      </tbody>
    </table>

    <hr>
    <p class="reports">Reports</p>
    <p>The types of <a href="{% url 'manual:reports' %}">reports</a> are explained in the other section. Reports can be made only out of the folders placed into <code>/report/_prepare</code> directory. Once a report is created it's snapshot is saved into the <code>/report</code> directory as a read-only folder.  </p>
    <div class="row">
	<img src="/static/content/manual/report-folder.png" class="center" height=200px>
	<img src="/static/content/manual/report-prepare-folder.png" class="center" height=200px>
	<img src="/static/content/manual/make-report.png" class="center" height=250px>
    </div>
  </div>
</div>
{% endblock %}

